<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/t-{{= cache_token }}/admin/css/bootstrap.min.css">
    <title>Blog-Core admin</title>
    <style>
        body { margin-bottom: 1em; }
        .nav { margin-bottom: 1em; }
        .messages { position: fixed; top: 2em; left: 2em; right: 2em; z-index: 10000; opacity: 0.85; }
        .text-right { text-align: right; }
        .content { font-family: monospace; }
        .spinner { position: fixed; top: 2em; right: 2em; }
        .post-item > .list-group-item-heading { cursor: pointer; }
        .post-controls { margin-top: 10px; }
        .post-controls .panel { margin-bottom: 10px; }
        .post-controls .panel-body { padding: 10px; }
        .error-message { color: #a94442; margin: 5px 0; }
        .btn-group > .btn { margin-top: 10px; }
        .bc-controls { margin-bottom: 20px; }
        .hide { display: none; }
        .bc-margin-bottom { margin-bottom: 20px; }
        .bc-margin-top-sm { margin-top: 10px; }
        .bc-margin-bottom-sm { margin-bottom: 10px; }
        .bc-red { color: red; }
        .bc-heading { background-color: #eee; }
        .bc-heading h1 { font-weight: normal; color: #666; }
        .bc-menu { border-top: 1px solid #ccc; margin-bottom: 20px; padding-bottom: 10px; }
        #editor-wrap { position: relative; }
        #editor { position: relative; }
        #preview { display: none; position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: #fff; }
        #preview > iframe { width: 100%; border: 0; }
        #preview-controls { display: none; position: fixed; top: 2em; left: 2em; }
    </style>
    <script>
        var bcEnvironment = '{{= environment }}';
        var bcLanguage = '{{= language }}';
    </script>
    <link rel="icon" type="image/png" href="/t-{{= cache_token }}/admin/img/bc.png">
</head>
<body>
    <div id="messages" class="messages"></div>
    <div class="spinner" id="spinner" style="display: none">
        <img src="/t-{{= cache_token }}/admin/img/spinner.gif">
    </div>
    <div class="bc-heading">
        <div class="container">
            <h1 id="heading-1">Blog-Core admin</h1>
            <script>
                var title = 'Blog-Core @' + window.location.hostname;
                document.getElementById('heading-1').textContent = title
                document.title = title;
            </script>
        </div>
    </div>
    <div class="bc-menu">
        <div class="container">
            <div data-bind="css: { hide: !active() }" class="btn-group hide" id="menu">
                <!-- ko foreach: types -->
                    <a data-bind="css: { active: $parent.active() === name },
                        attr: { href: '#entries/' + name }"
                        class="btn btn-default" href="#">
                            <span class="glyphicon glyphicon-edit"></span>
                            <!-- ko text: menu_label --><!-- /ko -->
                        </a>
                <!-- /ko -->
                <a data-bind="css: { active: active() === 'users' }"
                    class="btn btn-default" href="#users">
                    <span class="glyphicon glyphicon-user"></span> Users</a>
                <a class="btn btn-default" href="#logout">
                    <span class="glyphicon glyphicon-log-out"></span> Logout</a>
            </div>
        </div>
    </div>
    <div class="container" id="main">
        <div data-bind="css: { hidden: bcEnvironment !== 'development'}"
            class="hidden alert alert-warning" role="alert">
            You are running in development mode. Many caching features
            are disabled. You can enable the production mode by setting the
            environment variable PL_ENV=production prior running the Blog-Core
            process.
        </div>
        <div id="content"></div>
    </div>
    <div id="preview"></div>
    <div id="preview-controls">
        <a href="#" class="btn btn-primary btn-lg" data-control="close">
            <span class="glyphicon glyphicon-remove"></span></a>
    </div>
    <script src="/t-{{= cache_token }}/admin/js/libs/es6-promise.js"></script>
    <script>ES6Promise.polyfill();</script>
    <script src="/t-{{= cache_token }}/admin/js/libs/fetch.js"></script>
    <script src="/t-{{= cache_token }}/admin/js/libs/knockout.js"></script>
    <script src="/t-{{= cache_token }}/admin/js/libs/router-standalone.js"></script>
    <script src="/t-{{= cache_token }}/admin/js/libs/kontainer-standalone.js"></script>
    <script src="/t-{{= cache_token }}/admin/js/libs/speakingurl.js"></script>
    <script src="/t-{{= cache_token }}/admin/js/admin.bundle.js"></script>
    <script src="/t-{{= cache_token }}/admin/js/libs/ace/ace.js"></script>
</body>
</html>
