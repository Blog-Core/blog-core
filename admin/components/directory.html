<h2 data-bind="text: 'Directory ' + directory"></h2>

<p>
    <!-- ko if: directory !== '/' -->
        <a data-bind="attr: { href: '#directory/' + parent }"
            class="btn btn-default" href="#">
            <span class="glyphicon glyphicon-arrow-up"></span> Up
        </a>
    <!-- /ko -->
    <a data-bind="click: subdirectory.show" class="btn btn-default" href="#">
        <span class="glyphicon glyphicon-folder-close"></span> Add
    </a>
    <a data-bind="click: upload.show" class="btn btn-default" href="#">
        <span class="glyphicon glyphicon-upload"></span> Upload
    </a>
    <!-- ko if: directory !== '/' -->
        <a data-bind="click: remove"
            class="btn btn-default" href="#">
            <span class="glyphicon glyphicon-remove-circle"></span> Remove
        </a>
    <!-- /ko -->
</p>

<!-- ko if: subdirectory.form() -->
    <div class="panel panel-default">
        <div class="panel-heading">New directory</div>
        <div class="panel-body">
            <form data-bind="submit: subdirectory.submit">
                <div class="form-group">
                    <label for="directory-new">Directory name</label>
                    <input data-bind="value: subdirectory.directory"
                        type="text" class="form-control" id="directory-new"
                        placeholder="Directory name" required="true">
                </div>
                <button type="submit" class="btn btn-default">
                    <span class="glyphicon glyphicon-folder-close"></span> Add
                </button>
                <a data-bind="click: subdirectory.cancel" class="btn btn-default" href="#">
                    <span class="glyphicon glyphicon-remove-circle"></span> Cancel
                </a>
            </form>
        </div>
    </div>
<!-- /ko -->

<!-- ko if: upload.form() -->
    <div class="panel panel-default">
        <div class="panel-heading">Upload file</div>
        <div class="panel-body">
            <form data-bind="submit: upload.submit">
                <div class="form-group">
                    <label for="directory-file">File</label>
                    <input type="file" id="directory-file"
                        placeholder="Your file" required="true">
                </div>
                <div class="form-group">
                    <div class="progress">
                        <div data-bind="attr: { 'aria-valuenow': upload.progress }, style: { width: upload.progress + '%' }"
                            class="progress-bar" role="progressbar" aria-valuenow="0"
                            aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                            <span data-bind="text: upload.progress + '% complete'" class="sr-only"></span>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-default">
                    <span class="glyphicon glyphicon-upload"></span> Upload
                </button>
                <a data-bind="click: upload.cancel" class="btn btn-default" href="#">
                    <span class="glyphicon glyphicon-remove-circle"></span> Cancel
                </a>
            </form>
        </div>
    </div>
<!-- /ko -->

<div data-bind="foreach: entries" class="list-group">
    <a data-bind="attr: { href: (directory ? '#directory/' : '#file/') + encoded }" href="#" class="list-group-item">
        <span data-bind="css: { 'glyphicon-folder-close': directory, 'glyphicon-file': !directory }" class="glyphicon"></span>
        <span data-bind="text: name"></span>
    </a>
</div>
